<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hospital Visit Summary</title>

<!-- jsPDF -->
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#f7f8fb;color:#111;margin:0;padding:20px;}
  .card{background:#fff;padding:20px;border-radius:12px;box-shadow:0 8px 20px rgba(15,23,42,0.06);max-width:700px;margin:auto;}
  label{display:block;margin-top:12px;font-weight:700;}
  input, textarea{width:100%;padding:10px;margin-top:6px;border-radius:8px;border:1px solid #d1d5db;box-sizing:border-box;font-weight:700;}
  textarea{min-height:80px;resize:vertical;}
  .row{display:flex;gap:12px;flex-wrap:wrap;}
  .col-1{flex:1 1 30%;}
  .controls{display:flex;gap:12px;margin-top:16px;}
  button.primary{background:#1f2937;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700;}
  button.ghost{background:transparent;border:1px solid #d1d5db;padding:10px 14px;border-radius:8px;cursor:pointer;}
  pre#output{background:#fafafa;padding:12px;border-radius:8px;border:1px solid #eee;margin-top:14px;white-space:pre-wrap;}
</style>
</head>
<body>

<div class="card">
  <h2>Hospital Visit Summary</h2>

  <label>Name:</label><input type="text" id="name" placeholder="Patient Name">
  <label>DOB:</label><input type="date" id="dob">
  <label>Gender Identity:</label><input type="text" id="gender" placeholder="Gender Identity">
  <label>Scheduled Visits:</label><input type="text" id="scheduled">
  <label>Date of Last Physical:</label><input type="date" id="lastPhysical">
  <label>Visit Summary for Doctor:</label><input type="text" id="doctor">
  <label>Reason for Visit:</label><textarea id="reason"></textarea>

  <h3>Vitals</h3>
  <div class="row">
    <div class="col-1"><label>Height:</label><input type="text" id="height"></div>
    <div class="col-1"><label>Weight:</label><input type="text" id="weight"></div>
    <div class="col-1"><label>Temp:</label><input type="text" id="temp"></div>
  </div>
  <div class="row">
    <div class="col-1"><label>BP:</label><input type="text" id="bp"></div>
    <div class="col-1"><label>Pulse:</label><input type="text" id="pulse"></div>
    <div class="col-1"><label>Resp:</label><input type="text" id="resp"></div>
  </div>

  <h3>Labs</h3>
  <label>Status:</label><input type="text" id="labStatus" placeholder="Completed / Pending">
  <label>Result 1:</label><input type="text" id="labResult1"><label>Facility 1:</label><input type="text" id="labFacility1" value="Grey Sloan University Laboratory">
  <label>Result 2:</label><input type="text" id="labResult2"><label>Facility 2:</label><input type="text" id="labFacility2" value="Grey Sloan University Laboratory">

  <label>Diagnosis:</label><textarea id="diag">Based on the clinical evaluation and available investigations, the patientâ€™s condition has been thoroughly assessed. Appropriate diagnosis has been made, and a management plan has been outlined accordingly.</textarea>
  <label>Plan:</label><textarea id="plan"></textarea>

  <div class="controls">
    <button id="preview" class="ghost">Preview Text</button>
    <button id="generate" class="primary">Generate PDF</button>
  </div>

  <pre id="output"></pre>
</div>

<script>
  function getNote(){
    return `
Hospital Visit Summary
====================
Name: ${document.getElementById('name').value || '[Name]'}
DOB: ${document.getElementById('dob').value || '[DOB]'}
Gender Identity: ${document.getElementById('gender').value || '[Gender]'}
Scheduled Visits: ${document.getElementById('scheduled').value || '[Scheduled Visits]'}
Date of Last Physical: ${document.getElementById('lastPhysical').value || '[Last Physical]'}
Visit Summary for Doctor: ${document.getElementById('doctor').value || '[Visit Summary]'}
Reason for Visit: ${document.getElementById('reason').value || '[Reason]'}

Vitals
------
Height: ${document.getElementById('height').value || '[Height]'}
Weight: ${document.getElementById('weight').value || '[Weight]'}
Temp: ${document.getElementById('temp').value || '[Temp]'}
BP: ${document.getElementById('bp').value || '[BP]'}
Pulse: ${document.getElementById('pulse').value || '[Pulse]'}
Resp: ${document.getElementById('resp').value || '[Resp]'}

Labs
----
Status: ${document.getElementById('labStatus').value || '[Status]'}
Result 1: ${document.getElementById('labResult1').value || '[Result1]'} | Facility: ${document.getElementById('labFacility1').value}
Result 2: ${document.getElementById('labResult2').value || '[Result2]'} | Facility: ${document.getElementById('labFacility2').value}

Diagnosis
---------
${document.getElementById('diag').value}

Plan
----
${document.getElementById('plan').value}
    `;
  }

  document.getElementById('preview').addEventListener('click', ()=>{
    document.getElementById('output').textContent = getNote();
  });

  document.getElementById('generate').addEventListener('click', ()=>{
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.setFontSize(12);
    const text = getNote();
    const split = doc.splitTextToSize(text,180);
    doc.text(split,14,14);
    doc.save('Hospital_Visit_Summary.pdf');
  });
</script>

</body>
</html>
